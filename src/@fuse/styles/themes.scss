@use 'sass:map';
@use '@angular/material' as mat;
@use 'theme-colors' as colors;

// Include the core Angular Material styles
@include mat.core();

$light-theme: mat.define-theme((
    color: (
        theme-type: light,
        primary: colors.$primary-palette,
        tertiary: colors.$tertiary-palette,
    ),
    typography: (
        brand-family: 'Poppins, sans-serif',
        plain-family: 'Poppins, sans-serif',
        bold-weight: 800,
        medium-weight: 600,
        regular-weight: 400,
    ),
    density: (
        scale: 0
    )
));

$dark-theme: mat.define-theme((
    color: (
        theme-type: dark,
        primary: colors.$primary-palette,
        tertiary: colors.$tertiary-palette,
    ),
    typography: (
        brand-family: 'Poppins, sans-serif',
        plain-family: 'Poppins, sans-serif',
        bold-weight: 800,
        medium-weight: 600,
        regular-weight: 400,
    ),
    density: (
        scale: 0
    )
));

// Apply light theme
body.light {
    @include mat.all-component-themes($light-theme);

    --mat-sys-primary: #{map.get(colors.$primary-palette, DEFAULT)};
    --mat-sys-primary-container: #{map.get(colors.$primary-palette, 900)};
    --mat-sys-tertiary: #{map.get(colors.$primary-palette, neutral, DEFAULT)};
    --mat-sys-error: #{map.get(colors.$primary-palette, error, DEFAULT)};

    // Override component-specific colors
    --mdc-filled-button-container-color: #{map.get(colors.$primary-palette, DEFAULT)};
    --mdc-outlined-button-label-text-color: #{map.get(colors.$primary-palette, DEFAULT)};
    --mdc-outlined-button-outline-color: #{map.get(colors.$primary-palette, 70)};

    --mdc-elevated-container-color: #ffffff; // bg-card
    --mdc-sys-color-surface: #f9f9f9; // bg-default
    --mdc-sys-color-surface-container-high: #ffffff; // bg-dialog
    --mdc-sys-color-on-surface: #1f2937; // text-default
    --mdc-sys-color-on-surface-variant: #6b7280; // text-secondary
    --mdc-sys-color-outline: #d1d5db; // divider

    --mat-form-field-filled-label-text-size: 0.875rem;

    --mat-dialog-container-max-width: 90vw;
}

// Apply dark theme
body.dark {
    @include mat.all-component-themes($dark-theme);

    --mat-sys-primary: #{map.get(colors.$primary-palette, 50)};
    --mat-sys-primary-container: #{map.get(colors.$primary-palette, 30)};
    --mat-sys-error: #{map.get(colors.$primary-palette, error, 60)};
    --mat-sys-surface-container: #{map.get(colors.$primary-palette, neutral, 20)};

    --mdc-filled-button-container-color: #{map.get(colors.$primary-palette, 40)};
    --mdc-outlined-button-label-text-color: #{map.get(colors.$primary-palette, 60)};
    --mdc-outlined-button-outline-color: #{map.get(colors.$primary-palette, 30)};

    --mdc-elevated-container-color: #1f2937;
    --mdc-sys-color-surface: #111827;
    --mdc-sys-color-surface-container-high: #1f2937;
    --mdc-sys-color-on-surface: #ffffff;
    --mdc-sys-color-on-surface-variant: #9ca3af;
    --mdc-sys-color-outline: rgba(255, 255, 255, 0.12);

    // Override component-specific colors for dark mode
    --mat-form-field-filled-label-text-size: 0.875rem;

    --mat-dialog-container-max-width: 90vw;
}

